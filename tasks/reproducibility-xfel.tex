% template for a task
% each task should be added to exactly one workpackage
% in the workpackage task list
\begin{task}[
  title=Demonstrator: Reproducible photon science workflows at European XFEL,
  id=reproducibility-xfel,
  lead=MP,
  PM=35,
  wphases={6-36},
  partners={SRL}
  ]

  This task (see page \pageref{sec:concept-demonstrator-photonscience}
  for context) includes the following activities:
  \begin{compactitem}
  \item Use the software archive for reproducible computation
    (as co-developed in \taskref{ecosystem}{reproducibility}), with
    the aim to provide reproducible computation environments for data analysis at
    European XFEL that remains executable for the same duration as the
    data is kept (currently aiming at 10+ years, at least 5 years).

    As is common in computational science, software used at XFEL often
    relies on specific combinations of libraries, in many cases with
    particular version requirements. Thus we will need a dedicated
    software archive that holds all relevant packages and source codes
    that are required to build the required computational environments
    (see \taskref{ecosystem}{reproducibility}) to ensure they are
    available even if an open source software provider decides to
    remove their repositories, or changes the API of a package, or
    GitHub decides to terminate their business.

    Applying the work from \taskref{ecosystem}{reproducibility} in the
    context of a production system will demonstrate its true utility,
    and provide important feedback for the design. There will be
    iterative feedback and refinement of the service.

  \item Extend the use of notebooks from \emph{interactive} data
    exploration and analysis at European XFEL to also provide
    computational work flows via (semi-)automatic execution of
    notebooks as described above. The work done in
    \taskref{core}{collaboration} will allow us to execute notebooks in
    the background, and to connect to the running notebook process to
    display or inspect progress, or to modify such a notebook if the
    science requires it.

    By doing so, we can make the standard analysis that is carried out
    by the facility available on EOSC as a service. By using one tool
    (the notebook) we simplify processes for users and for the research
    facility.

  \item Use the work from \taskref{ecosystem}{jupyter-widgets} on
    state-preserving widgets to provide GUI-like elements in notebook
    where interactive user input, data exploration or parameter
    modification is required.

  \item Explore use of the Voila capability to provide
    data exploration dash-boards to lower barriers of working with the
    data (will only be possible for somewhat standard experiments).

  \item Work with the PaNOSC project \cite{panosc} to evaluate and use
    these new and EOSC-enabled services for other Photon and Neutron
    Science research facilities.
  \item Develop a demonstrator (Deliverable \localdelivref{demonstrators}).

  \item Evaluate the chosen workflow design and experience from using
    it in a real-world context; make this available as a report and
    through presentations/workshops to interested organisations and
    facilities. (\localdelivref{applications-report}).




  \end{compactitem}

 \end{task}
